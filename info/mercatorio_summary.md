### Summary of Mercatorio

**Game Overview:**
- **Name:** Mercatorio
- **Developer:** Hakk Games
- **Genre:** Browser-based economic and trading simulation set in medieval times
- **Objective:** Maximize financial success and prestige through economic competition and cooperation

**Vision:**
- **Primary Goal:** Offer a mercantile environment with prices and product availability determined by player-driven supply and demand.
- **Secondary Goal:** Model medieval production and logistics as historically accurate as possible.

**Core Mechanics:**
1. **Production and Logistics:**
   - Build and upgrade buildings to produce goods.
   - Manage production chains to refine raw materials into finished products.
   - Transport materials and products to markets using ships or carts.
   - Complex production methods require multiple steps but offer higher efficiency.

2. **Market Dynamics:**
   - Prices and product availability are solely determined by player-driven supply and demand.
   - Market participants influence shortages, gluts, and price swings.
   - Trade goods in local and distant markets via trade routes.
   - Dynamic pricing varies over time based on local market situations.

3. **City and Commoner Labor:**
   - Cities have commoners providing labor and demanding various items.
   - Efficient labor management is crucial for optimizing production.
   - Commoners' well-being affects labor availability and city growth.

4. **Buildings and Production Methods:**
   - Dozens of buildings and products with historically accurate production methods.
   - Multiple ways to produce the same item, allowing trade-offs between efficiency and simplicity.
   - Specialized buildings can be upgraded to improve efficiency.

5. **Sustenance and Taxes:**
   - Manage sustenance items for households.
   - Pay taxes each turn, impacting financial planning.

6. **Protection Services:**
   - Warfare and conflict are abstracted into the service "protection."
   - Town governments and operations handling valuable products demand protection.
   - Players can generate protection services and earn weaponry skill points.
   - Protection services can be scaled up with guardhouses and hired labor.

**Key Features:**
1. **Buildings:**
   - Construct and upgrade buildings to enhance production.
   - Proper building management maximizes efficiency.

2. **Markets:**
   - Buy and sell goods with prices influenced by supply and demand.
   - Understanding market trends is essential for profitability.

3. **Trade Routes:**
   - Establish and manage trade routes for distant markets.
   - Balance local and distant trading for maximum revenue.

4. **Financial Management:**
   - Earn revenue, pay expenses, and reserve funds for taxes.
   - Balance investment in production and trading.

5. **Historical Accuracy:**
   - Simulates medieval economy with accurate buildings, products, and methods.

**Gameplay Objectives:**
1. **Maximize Prestige:**
   - Prestige is a key measure of success, gained through production and trading.
   - Use wealth to undertake grandiose projects, impress peers, and help the poor.

2. **Economic Success:**
   - Balance production, market trading, and finances for profit.
   - Ensure sustainability and growth.

3. **Meet Market Demand:**
   - Produce and trade in-demand goods by understanding and predicting market trends.

4. **Efficient Resource Management:**
   - Manage labor, resources, and finances for optimal production.
   - Continuously optimize operations to stay competitive.

**Population and Economic Actors:**
1. **The Gentry:**
   - Human players and some bots operating businesses and seeking prestige.
   - Engage in economic competition and cooperation.

2. **Commoners:**
   - Sell their labor and purchase food and necessities.
   - Crucial for powering production and driving economic growth.

3. **Peasants:**
   - Tenant farmers marginally involved in the economy, paying rent through labor.
   - As players' prestige grows, they can lease land and collect rent.

**World of Mercatorio:**
- **Map:** 4096x4096 tiles, each 200x200 meters (about 10 acres).
- **Resources:** Fertile soil, forestland, iron, gold, etc.
- **Trade:** Essential due to resource distribution; trade with nearby or distant towns using advanced trade ships.

**Market Mechanics:**
- **Dynamic Prices:** Prices vary over time, influenced by local market situations.
- **Trading:** Manual or automated trading of goods; automated trades can benefit from start-of-turn auctions.
- **Auctions:** Start-of-turn auctions maximize trade volume and efficiency, setting prices based on aggregate supply and demand.
- **Reservations:** Pending orders require reservation of products, money, and space.
- **Regional Markets:** Centralize trade for high-value items like ships, improving price discovery.

**Climate and Regional Specialization:**
- **Fish Preservation (Hjell):** Northern areas can dry fish using cold, dry air, producing stockfish, a luxury product.
- **Wine Production (Vignoble):** Warmer climates are suitable for vineyards, producing wine consumed by the gentry.

**Transportation Costs:**
- Transporting goods over land is expensive; waterways are more cost-effective.
- Town delivery costs and carting services simulate the real costs of medieval logistics.

**Starting Out:**
- Players start with a storehouse and some construction materials.
- The head of the household can perform initial duties for income or start building a business empire.
- Choose simple, profitable production methods to begin with and expand as resources allow.
- Manage construction and production efficiently to establish a positive cash flow.

**Trading Mechanics:**
- Trade on local markets by interacting with product bars in buildings or projects.
- Manual trades are made against pending buy and sell orders.
- Enter desired price and volume for trades; prices are optimized automatically.
- Pending orders require reservation of products, money, and space.
- Regional markets for high-value items like ships centralize trade and improve price discovery.

**Carts and Ships:**
- Equip and move carts and ships to trade with distant or nearby towns.
- Set operation targets, provide funding, and purchase input products.
- Navigate terrain with movement points, considering penalties for forests and inclines.
- Utilize built-in pathfinder for efficient routes and set up automated trade routes for frequent travels.
- Rivers and ferries facilitate crossing water bodies, adding costs to trade routes.

**Prestige and Bonuses:**
- The character the player is playing as is called the Head of Household.
- Prestige allows players to lord over tenants, take on apprentices, and operate more buildings and transports.
- Prestige bonuses are gained at the following levels:

  **Common:**
  - 50: +1 tenant
  - 100: +1 luxury consumption
  - 150: +2 tenants
  - 200: +1 apprentice

  **Established:**
  - 250: Permission to sign contracts
  - 300: +2 tenants
  - 400: +4 building and +1 transport capacity
  - 500: +5 tenants
  - 750: +1 luxury consumption

  **Reputable:**
  - 1.0k: +10 tenants
  - 1.5k: +4 building and +1 transport capacity
  - 2.0k: +1 apprentice
  - 2.5k: +1 luxury consumption

  **Distinguished:**
  - 3.0k: +15 tenants
  - 4.0k: +4 building and +1 transport capacity
  - 5.0k: +1 apprentice
  - 6.0k: +1 luxury consumption
  - 7.0k: +15 tenants

  **Exalted:**
  - 8.0k: +4 building and +1 transport capacity
  - 10.0k: Luxury consumption and gains doubled
  - 15.0k: +25 tenants

  **Legend:**
  - 20.0k: +4 building and +1 transport capacity

- Prestige will gradually decay if not maintained, with the rate of decay capped at 0.75% monthly for Reputable and above.

**Sustenance and Prestige:**
- Sustenance contributes towards prestige gain or loss; these items must be in your inventory each turn.
- Six categories of sustenance:
  - Basic food
  - Heating
  - Clothing
  - Drink
  - Fine food (allows 2 items at once)
  - Luxuries (starts with zero items, up to 3 with prestige bonuses)
- Effects on prestige:
  - Basic food: -1 if not available
  - Heating: -1 if not available
  - Clothing: -1 if not available
  - Drink: -1 if not available
  - Fine food: -0.6 if none available, -0.3 if one item available
  - Luxuries: Only positive effects

**Chronological Updates:**
- **Jan 2024:** Tax hikes to disincentivize land hoarding, new weaponry skill class, introduction of leather for production.
- **Feb 2024:** Textile updates, carting services introduced, household workers linked with warehouses.
- **Mar 2024:** Carting price adjustments, new production methods for scythes, oxen power integration.
- **Apr 2024:** End of test-run, start of Season 1 with new map and content updates.
- **May 2024:** Prestige recalculations, adjustments to commoner needs and town growth, introduction of the stable.
- **Jun 2024:** Maritime updates, new ship (hulk), new buildings (fishing shack, sail loft), expanded tenant mechanics, bot and commoner behavior updates, new production methods, and various balancing adjustments.

### Mercatorio Sustenance Options and Prestige Effects

In Mercatorio, sustenance contributes towards prestige gain or loss. These items must be in your inventory each turn, either purchased or produced. The sustenance categories and their prestige effects are as follows:

#### Basic Food
- **None:** -1 prestige
- **Grain:** 2 units, +0.1 prestige
- **Flour:** 0.5 units, +0.2 prestige
- **Bread:** 3 units, +0.3 prestige
- **Pasties:** 2 units, +1.3 prestige
- **Pies:** 2 units, +1.5 prestige

#### Heating
- **None:** -1 prestige
- **Firewood:** 2 units, +0.1 prestige
- **Charcoal:** 2 units, +0.1 prestige

#### Clothing
- **None:** -1 prestige
- **Wool:** 1 unit, +0.2 prestige
- **Cloth:** 2 units, +0.4 prestige
- **Dyed Cloth:** 2 units, +0.9 prestige
- **Garments:** 1.5 units, +1.2 prestige
- **Coats:** 1 unit, +2 prestige

#### Drink
- **None:** -1 prestige
- **Milk:** 2 units, +0.1 prestige
- **Beer:** 3 units, +0.4 prestige
- **Wine:** 3 units, +0.7 prestige
- **Hop Beer:** 3 units, +1 prestige

#### Fine Food
- **None:** -0.3 prestige per missing item (total -0.6 if both items are missing)
- **Meat:** 5 units, +0.3 prestige
- **Fish:** 5 units, +0.3 prestige
- **Cured Meat:** 1 unit, +0.7 prestige
- **Cheese:** 2 units, +0.4 prestige
- **Cured Fish:** 1 unit, +0.7 prestige
- **Ham:** 1 unit, +2 prestige
- **Stockfish:** 1 unit, +2 prestige

#### Luxuries
- **None:** No negative effect
- **Furniture:** 2 units, +1 prestige
- **Donations:** 40 units, +1 prestige
- **Cookware:** 2 units, +1.2 prestige
- **Glassware:** 1 unit, +1.5 prestige
- **Jewellery:** 1 unit, +2 prestige
- **Candles:** 3 units, +3 prestige
- **Medicine:** 1 unit, +3 prestige
- **Windows:**  0.25 units, +4 prestige


Apprentices and Labor
Recruiting Apprentices: Available after reaching certain prestige levels.
Increased Requirements: Apprentices increase all sustenance requirements (except luxuries) by 0.25x per apprentice. For example, if you need 2 grain normally, you need 2.5 grain with one apprentice.
Labor Contribution:
Head of Household: Provides 25 labor to assigned buildings.
Apprentices: Provide 15 labor initially, increasing to 25 labor when they reach worker level after gaining enough XP.
Gaining XP: Both the Head of Household and apprentices gain XP in a class by working in buildings or transports. The XP gained depends on the specific recipe or work being done.

### Levels of Expertise in Skills

By assigning workers to relevant production methods, they can gain skill points and level up, providing access to more advanced methods and products. Here is a summary of the four levels of expertise:

1. **Novice/Apprentice**
   - **Description:** Initial level for all workers.
   - **Access:** Basic production methods and products.
   - **Details:** All newly recruited workers start at this level.

2. **Worker**
   - **Description:** The second level of expertise.
   - **Access:** Ordinary production methods and common products.
   - **Details:** Workers gain more capability to handle standard maritime tasks and products.

3. **Journeyman**
   - **Description:** The third level of expertise.
   - **Access:** Intermediate production methods and uncommon products.
   - **Details:** Journeymen can handle more complex and less common maritime tasks and products.

4. **Master**
   - **Description:** The highest level of expertise.
   - **Access:** Advanced production methods and rare products.
   - **Details:** Masters have the ability to perform the most complex maritime tasks and create rare products. Mastery can only be achieved in a single class, whereas the other levels can be achieved in multiple classes.

Each worker can progress through these levels by gaining skill points through their assigned tasks. However, only one class can be mastered, ensuring specialization at the highest level of expertise.

### Classes of Skills in Mercatorio

1. **Maritime**
   - **Description:** Skills related to the preparation and operation of ships and boats, either for transport or fishing.

2. **Nutrition**
   - **Description:** Skills covering all steps of food production and processing, including agriculture, pastoralism, baking bread, and processing meat or fish.

3. **Textile**
   - **Description:** Skills encompassing all steps of textile and garment production, from shearing sheep to weaving cloth.

4. **Crafting**
   - **Description:** Skills related to cutting and shaping various materials, usually requiring precision and minimal heating.

5. **Forging**
   - **Description:** Skills involving the use of brute force to hammer and crush ores, or applying heat to smelt and shape metals.

6. **Weaponry**
   - **Description:** Skills for producing, maintaining, and using various weapons, intended for hunting and protection.

7. **Mercantile**
   - **Description:** Skills related to trade, import, and export, gained by workers assigned to warehouses. Higher expertise in mercantile skills enables handling and trading of products from all other classes but does not grant access to more advanced production methods.

### Household Duties for the Head of Household

The head of household can optionally participate in a household duty instead of working at a particular building or transport. The available household duty options are:

1. **Delivery Duty 1**
2. **Delivery Duty 2**
3. **Knight Duty 1**
4. **Knight Duty 2**
5. **Knight Duty 3**
6. **Knight Duty 4**

#### Commoners
- Commoners are freemen offering labor and spending earnings on basic needs.
- They drive up prices when requests are unfulfilled.
- They provide manual labor, crucial for production methods.
- More labor is available as their needs are filled.

#### Building Construction
- Construction needs specific materials and time.
- Material purchase can be paced to reduce market price pressure.
- Payments can be made from business funds or a dedicated allotment.
- Free household workers can be assigned to reduce labor purchase needs.

#### Land Management and Building Placement
- Land is divided into plots marked by flags: white for town, orange for business, blue for owned plots.
- Construction can be initiated by selecting a tile or from the "Construct building" menu.
- Building placement and land management are key for efficient use of resources and production optimization.

Here's a summarized overview of the additional important information related to trading, automatic trading, building, and warehousing in Mercatorio:

### Trading
- **Manual Orders**: Directly enter buy or sell orders on the town market. Immediate transactions occur if your order matches an existing one. If not, your order remains active until matched.
- **Automatic Trading**: Major trading happens at the start of each turn through an auction. Configure traders (buildings, warehouses, trade routes) to issue automatic orders with desired volume and price caps.

### Automatic Trading
- **Buying**: Set the maximum price willing to pay. If the auction clearing-price is below this max price, you'll receive the desired amount.
- **Selling**: Set a minimum price. If the clearing-price is above this min price, your goods will sell.

### Town Interaction
- The town welcomes new players, and there's a range of products to produce to fulfill basic and luxurious needs.
- Start with a storehouse containing construction materials. To grow, produce more or buy from the town market.
- Check the list of production methods for profitability and market gaps.

### Building
- **Production Buildings**: Required for most production methods, often needing upgrades and rare construction materials.
- **Cost Management**: Start with cheaper buildings relying on labor. Plan for potential price increases in construction projects.

### Warehousing
- **Storehouse**: Store goods, manage raw materials, buffer intermediate products, and sell finished products.
- **Upgrades**: Upgrade to a warehouse for more storage space.
- **Labor Management**: Household labor in the storehouse supports linked operations and purchased labor.

### Mayor Responsibilities
- **Protection**: Responsible for protecting the town and its lands.
- **Public Works**: May initiate purchasing building materials for public works when well-funded.

### Town Purchases
- **Protection**: Bought every turn.
- **Other Purchases**: May include labor, limestone, tools, and other items.

### Labor Dynamics
- **Labor Purchase**: Amount increases if protection is insufficient or unaffordable.
- **Affordable Protection**: Ensuring enough affordable protection helps maintain affordable labor prices.
- **Labor Supply and Demand**: Labor supply only increases as the town grows. As labor dwindles, prices increase.

### Commoners' Role
- **Labor Supply**: Provide a variable amount of labor each turn at fluctuating prices.
- **Needs and Purchases**: Buy variable amounts of essential and luxury items.

### Commoners' Purchases
- **Essentials**: 
  - Grain
  - Bread
  - Firewood
  - Lodging
  - Cloth
  - Dyed cloth
  - Garments
  - Beer
  - Cheese
  - Cured meat
  - Cured fish
  - Furniture
  - Cookware
  - Wine
  - Donations

### Town Growth and Needs
- **Meeting Needs**: Sufficiently selling these items on the town market at affordable prices leads to population growth, increasing labor and needs.
- **Unmet Needs**: Insufficient supply causes population decline, reducing labor and needs.

### Church of the City

- **Funding and Operations**: Funded by donations from townspeople, the church operates and maintains its buildings, providing basic sustenance and shelter for those in need.
- **Projects and Prestige**: Occasionally seeks help with larger projects through contracts. Completing these projects significantly increases household prestige.
- **Contracts**: Available at certain prestige levels, detailing specific needs, deadlines, and rewards.

### Example Church Contract

#### Current Needs
- **Project**: Upgrading church buildings
- **Requirement**: Donation of windows
- **Deadline**: Completion by March 1130
- **Obligations**: Transfer one batch of 7 windows to the Church of Aderhampton by the deadline
- **Reward**: 200 Prestige for the benefactor

a list of all possible buildings, all possible products, all possible recipes (aka production methods) that buildings can produce/use, a list of all the towns and their locations and their current markets and historical markets, all of this is available through the api and thus the pymerc python module

ships can be used for transporting goods from one town to another for trade, setting up automatic trade routes, or for fishing. when used for fishing they function like a building

carts can be used for transporting goods from one town to another for trade and setting up automatic trade routes

buildings can be constructed and have a resource cost to construct. they must be placed on an appropriate tile.

players have a building limit that goes up as their prestige increases, see prestige bonuses

farmsteads/boardinghouses have a seperate cap that is dictated by prestige level as well, these are referred to as tenants in prestige bonuses. a farmstead is one tenant, a boardinghouse is 5 tenants

buildings can be expanded onto additional compatible tiles within a certain range. a building expanded onto an additional tile, for 2 total tiles, can have up to a 2x production multiplier, etc. - some buildings have a maximum number of expansions/tiles possible. for some buildings, an expansion is cheaper (is built at a discount), aka requires a percentage less resources than the original building did

Production multipliers can be set in increments of 0.1 -- so setting it to 1.25 isn't possible, but 0.6 or 1.3 is.

in order for a building to produce, the items required for that production method must already be present in inventory before the turn tick starts. in other words you have to produce or purchase the needed items the turn before you wish to use them.

if a building is expanded to additional tiles, all tiles use the same production method for a given turn.

a player can have multiple buildings of the same type, each expanded to different numbers of tiles, and then each of those buildings could use a different production method, but all tiles for a given building use the same production method

buildings can have upgrades installed to unlock additional production methods, assuming the player has the proper skill level

buildings can be bought and sold once they are built. buildings under construction or being expanded or having an upgrade built cannot be bought or sold

some production methods require a head of household or apprentice at a master skill level in the proper class to be assigned to work at the building in order to use that production method. this is the primary benefit of apprentices - ability to use more than one of these master level production methods once the apprentice is leveled high enough

buildings can be renamed

buildings depending on their type must be built on tiles on the map that meet the proper requirements. some buildings must be built inside the town, others are built in the "district" - the range outside the town that the town controls

town tiles have a 5d tax per turn

district tiles have a 0.5 tax per turn

"resource" district tiles, such as those with salt, copper, gold, etc. on them have a 20d tax per turn

one type of building is an outpost. Outposts allow the person who built it to extend the district area they can build in by 20 tiles. two outposts can be chained together to reach further. outposts cannot be bought or sold or destroyed or donated. Outposts have a special additional 100d tax per turn.

tiles can be bought without building anything on them. the tax still applies to these purchased tiles

buildings or tiles can be "donated" to gain a small one time boost to prestige, which then has the game hand them over to a bot (ai player run by the game)

Buildings can be destroyed to free a tile back up

tiles without a building on them can be forfeited back to the town

a player can have a certain number of prestige buildings. this is a separate building cap, these don't count towards regular building cap. these buildings give a certain amount of one time bonus prestige when their construction is complete. they have special production methods that generate prestige each turn when used.

a player must have the necessary storage space for a produced good in order for a building to function at the specified production multiplier. otherwise the effective production multiplier will be reduced and less goods produced and less inputs consumed. However goods that expire (labor, carting, ox power, fish, milk, meat), will go to waste if they're not used. this is the primary way players lose money if they don't check the game every turn.

if a building produces more than one type of good, such as flax and grain, the output listed first is the only one that will limit production if enough storage space isn't available. the second, third, fourth items produced will just disappear if there's not enough storage space.

buildings and transports, and even household sustenance can be linked to a storehouse/warehouse (a player can have more than one distinct warehouse setup, but it's not usually ever done)

if something is linked to the storehouse/warehouse, the warehouse inventory capacity for that item is what matters for production. a linked operation gets its funding from the warehouse, as well as all of its inputs and that's where it sends its outputs

buildings take a certain number of turns to build even if you have all the resources.

when a building is being built you can set the speed at which you wish to build the building. this doesn't affect the turn counter requirement, but instead adjusts how many of a given required resource for construction is purchased each turn, and what the max purchase price for the auto buy manager is set to.

players get 3 rushes they can use to finish a building's initial construction, expansion, or upgrade early if they have all the resources required. once these 3 rushes are used up they never get more.

items can be transferred between the warehouse and construction efforts or unlinked buildings.

construction efforts can be linked to a warehouse. this is a good way to soak up otherwise "wasted" labor due to production being limited at a building for some reaosn.
